<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/main_style.css" />
  </head>
  <body class="bg-gray-100 min-h-screen p-8">
    <%- include('partials/header') %>
    <main>
      <section class="banner">
        <div class="banner-content">
          <div class="banner-text">
            <h2 class="h2-active"><span>✓</span>Выбрали</h2>
            <h2><span>✓</span>Купили</h2>
            <h2><span>✓</span>Устоновили</h2>
            <p>
              Пропустите этап поиска шиномонтажа <br />
              и лишних платежей. Начните с первого<br />
              шага!
            </p>
            <button class="bunner-button">В каталог</button>
            <img src="../images/wheels.png" alt="" class="wheels-adaptiv" />
          </div>
        </div>
      </section>

      <section class="services">
        <div class="services-header">
          <h1>Мы быстро и качественно выполним следующие виды работ</h1>
        </div>

        <div class="services-content">
          <div class="services-grid">
            <div class="services-row">
              <div class="service-card">
                <div class="card-header">
                  <div class="service-icon">
                    <img
                      src="../images/service-icon-image1.png"
                      alt="service-icon"
                    />
                    <h2>Шиномонтаж и балансировка</h2>
                  </div>
                </div>
                <ul class="service-list">
                  <li>Шиномонтаж, балансировка на 3D оборудовании</li>
                  <li>Подкачка и накачка шин азотом</li>
                  <li>
                    Ошиповка колёс <span class="price">5 руб. / 1 шип</span>
                  </li>
                  <li>
                    Повторная ошиповка зимних <br />шин (теком)
                    <span class="price">15 руб. / 1 шип</span>
                  </li>
                </ul>
              </div>
              <div class="service-card">
                <div class="card-header">
                  <div class="service-icon">
                    <img
                      src="../images/service-icon-image2.png"
                      alt="service-icon"
                    />
                    <h2>Ремонт дисков и шин</h2>
                  </div>
                </div>
                <ul class="service-list">
                  <li>Правка и ремонт дисков (литых, кованных, стальных)</li>
                  <li>Ремонт шин</li>
                  <li>Сварка аргоном трещин на дисках</li>
                  <li>Продажа автокамер от 13 до 16</li>
                  <li>Автоколпаки на все авто</li>
                </ul>
              </div>
            </div>
            <div class="services-row">
              <div class="service-card">
                <div class="card-header">
                  <div class="service-icon">
                    <img
                      src="../images/service-icon-image3.png"
                      alt="service-icon"
                    />
                    <h2>СТО и дополнительные услуги</h2>
                  </div>
                </div>
                <ul class="service-list">
                  <li>
                    Продажа шин и дисков (в ассортименте и <br />под заказ)
                  </li>
                  <li>Замена масла, диагностика ходовой части авто</li>
                  <li>Мелкий ремонт автомобилей</li>
                  <li>Подбор шин/дисков</li>
                  <li>Клубные скидки</li>
                </ul>
              </div>
            </div>
          </div>
          <div class="main-photo">
            <img src="../images/service-image.png" alt="service-image" />
          </div>
        </div>

      </section>



      <section class="acceptance-of-applications">
<div class="main-acceptance-of-applications">

  <div class="Tire-disc-selection">
<h1>Подбор шин/дисков</h1>
<p>Среди множества предложений на рынке важно <br> выбрать не просто товар, а надежного партнера. Мы <br> строим свою работу на опыте и высоком уровне <br> обслуживания. Наша цель — не просто продать, а <br> помочь вам сделать обоснованный выбор, который <br> обеспечит комфорт, экономию и безопасность в <br> любую погоду.</p>
  </div>

  <div class="Acceptance-of-applications">
    <h1>Прием заявок на товар ведеться <br> ежедневно</h1>
    <p class="Waiting-period">Срок ожидания заказа: от 1 до 5 дня</p>
    <p class="number">+7 (937)204-38-14</p>
  </div>
</div>

      </section>
</main>
        <div class="gallery-container">
          <h1>Галерея</h1>
            <div class="gallery-track">
                <div class="gallery-item">
                    <img src="../images/Rectangle 63.png" alt="image-slider">
                </div>
                
                <div class="gallery-item">
                    <img src="../images/Rectangle 64.png" alt="image-slider">
                </div>
                
                <div class="gallery-item">
                    <img src="../images/Rectangle 65.png" alt="image-slider">
                </div>
                
                <div class="gallery-item">
                    <img src="../images/ah.jpg" alt="image-slider">
                </div>
                
                <div class="gallery-item">
                    <img src="../images/ha.jpg" alt="image-slider">
                </div>
            </div>
            
            <div class="gallery-controls">
                <button class="nav-btn prev-btn">
                <a><</a>
                </button>
                
                <div class="gallery-indicators">
                    <div class="indicator active" data-index="0"></div>
                    <div class="indicator" data-index="1"></div>
                    <div class="indicator" data-index="2"></div>
                    <div class="indicator" data-index="3"></div>
                    <div class="indicator" data-index="4"></div>
                </div>
                
                <button class="nav-btn next-btn">
                <a>></a>
                </button>
                
                <div class="gallery-counter">
                    <span class="current">1</span> / <span class="total">5</span>
                </div>
            </div>
        </div>
    </div>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            const galleryTrack = document.querySelector('.gallery-track');
            const prevBtn = document.querySelector('.prev-btn');
            const nextBtn = document.querySelector('.next-btn');
            const indicators = document.querySelectorAll('.indicator');
            const galleryItems = document.querySelectorAll('.gallery-item');
            const currentCounter = document.querySelector('.gallery-counter .current');
            const totalCounter = document.querySelector('.gallery-counter .total');
            
            let currentIndex = 0;
            const totalItems = galleryItems.length;
            totalCounter.textContent = totalItems;
            
            // Функция обновления позиции галереи
            function updateGalleryPosition() {
                // Получаем ширину одного элемента с учетом gap
                const itemWidth = galleryItems[0].offsetWidth + 20;
                galleryTrack.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                
                // Обновляем активный индикатор
                indicators.forEach((indicator, index) => {
                    if (index === currentIndex) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });
                
                // Обновляем счетчик
                currentCounter.textContent = currentIndex + 1;
            }
            
            // Следующее изображение
            nextBtn.addEventListener('click', function() {
                if (currentIndex < totalItems - 1) {
                    currentIndex++;
                } else {
                    currentIndex = 0; // Возвращаемся к первому изображению
                }
                updateGalleryPosition();
            });
            
            // Предыдущее изображение
            prevBtn.addEventListener('click', function() {
                if (currentIndex > 0) {
                    currentIndex--;
                } else {
                    currentIndex = totalItems - 1; // Переходим к последнему изображению
                }
                updateGalleryPosition();
            });
            
            // Клик по индикаторам
            indicators.forEach(indicator => {
                indicator.addEventListener('click', function() {
                    currentIndex = parseInt(this.getAttribute('data-index'));
                    updateGalleryPosition();
                });
            });
            
            // Обработка свайпов на мобильных устройствах
            let startX = 0;
            let endX = 0;
            
            galleryTrack.addEventListener('touchstart', function(e) {
                startX = e.touches[0].clientX;
            });
            
            galleryTrack.addEventListener('touchend', function(e) {
                endX = e.changedTouches[0].clientX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50; // минимальная дистанция свайпа
                
                if (startX - endX > swipeThreshold) {
                    // Свайп влево - следующее изображение
                    nextBtn.click();
                } else if (endX - startX > swipeThreshold) {
                    // Свайп вправо - предыдущее изображение
                    prevBtn.click();
                }
            }
            
            // Автоматическая смена изображений каждые 5 секунд
            let autoSlideInterval = setInterval(() => {
                nextBtn.click();
            }, 5000);
            
            // Останавливаем автопрокрутку при наведении на галерею
            const galleryContainer = document.querySelector('.gallery-container');
            galleryContainer.addEventListener('mouseenter', () => {
                clearInterval(autoSlideInterval);
            });
            
            galleryContainer.addEventListener('mouseleave', () => {
                autoSlideInterval = setInterval(() => {
                    nextBtn.click();
                }, 5000);
            });
            
            // Адаптация при изменении размера окна
            window.addEventListener('resize', function() {
                // Небольшая задержка для корректного пересчета после изменения размера
                setTimeout(updateGalleryPosition, 100);
            });
            
            // Инициализация галереи
            updateGalleryPosition();
        });
    </script>
  </body>
</html>
